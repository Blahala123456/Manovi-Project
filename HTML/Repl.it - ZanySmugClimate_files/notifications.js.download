(window.webpackJsonp=window.webpackJsonp||[]).push([[92],{"3gM7":function(t,a,e){"use strict";var n=e("ln6h"),o=e.n(n),r=e("9Jkg"),i=e.n(r),c=e("G5Ub");a.a=function(t,a){var e,n,r;return o.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:if(!t){s.next=4;break}e=t.user,s.next=13;break;case 4:if(!((n=a.getState().user)&&n.userInfo.isLoggedIn&&n.userInfo)){s.next=9;break}e=n.userInfo,s.next=13;break;case 9:return s.next=11,o.a.awrap(Object(c.b)("/is_authenticated"));case 11:(r=s.sent).success&&(e=r.user);case 13:return e&&(t&&(e=JSON.parse(i()(e))),a.dispatch({type:"FETCH_USER_INFO_SUCCESS",user:e})),s.abrupt("return",{user:e});case 15:case"end":return s.stop()}}))}},51:function(t,a,e){e("j36g"),t.exports=e("E34x")},"9/CT":function(t,a,e){"use strict";var n=e("MX0m"),o=e.n(n),r=e("q1tI"),i=r.createElement;a.a=function(t){var a=t.children,e=t.paddingBottom,n=t.minHeight;return i("div",{className:o.a.dynamic([["1857768741",[n?"min-height: ".concat(n,";"):"",e?"padding-bottom: ".concat(e,";"):""]]])+" clui-bg"},i("div",{className:o.a.dynamic([["1857768741",[n?"min-height: ".concat(n,";"):"",e?"padding-bottom: ".concat(e,";"):""]]])+" clui-bg-blanket "}),i("div",{className:o.a.dynamic([["1857768741",[n?"min-height: ".concat(n,";"):"",e?"padding-bottom: ".concat(e,";"):""]]])+" clui-bg-content "},a),i(o.a,{id:"1857768741",dynamic:[n?"min-height: ".concat(n,";"):"",e?"padding-bottom: ".concat(e,";"):""]},[".clui-bg.__jsx-style-dynamic-selector{position:relative;".concat(n?"min-height: ".concat(n,";"):"",";}"),".clui-bg-blanket.__jsx-style-dynamic-selector{position:absolute;top:0;left:0;width:100%;height:100%;background-color:var(--color-background-2);z-index:0;}",".clui-bg-content.__jsx-style-dynamic-selector{position:relative;z-index:1;".concat(e?"padding-bottom: ".concat(e,";"):""," color:var(--color-foreground-1);}")]))}},E34x:function(t,a,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/notifications",function(){return e("pHDb")}])},RGhV:function(t,a,e){"use strict";e.d(a,"a",(function(){return x})),e.d(a,"b",(function(){return _}));var n=e("hfKm"),o=e.n(n),r=e("2Eek"),i=e.n(r),c=e("XoMD"),s=e.n(c),u=e("Jo+v"),l=e.n(u),d=e("4mXO"),m=e.n(d),f=e("pLtp"),p=e.n(f),h=e("dfwq"),b=e("vYYK");function y(t,a){var e=p()(t);if(m.a){var n=m()(t);a&&(n=n.filter((function(a){return l()(t,a).enumerable}))),e.push.apply(e,n)}return e}function g(t){for(var a=1;a<arguments.length;a++){var e=null!=arguments[a]?arguments[a]:{};a%2?y(Object(e),!0).forEach((function(a){Object(b.a)(t,a,e[a])})):s.a?i()(t,s()(e)):y(Object(e)).forEach((function(a){o()(t,a,l()(e,a))}))}return t}function x(t,a){return function(e,n){if(!n||!n.fetchMoreResult)return e;var o=n.fetchMoreResult,r=e?e[t][a].items:[],i=g({},o);return i[t][a].items=[].concat(Object(h.a)(r),Object(h.a)(o[t][a].items)),i}}function _(t){return function(a,e){if(!e||!e.fetchMoreResult)return a;var n=e.fetchMoreResult,o=a?a[t].items:[],r=g({},n);return r[t].items=[].concat(Object(h.a)(o),Object(h.a)(n[t].items)),r}}},pHDb:function(t,a,e){"use strict";e.r(a);var n=e("ln6h"),o=e.n(n),r=e("MX0m"),i=e.n(r),c=e("q1tI"),s=e.n(c),u=e("3gM7"),l=e("erRA"),d=e("/MKj"),m=e("SYH8"),f=e("YFqc"),p=e.n(f),h=e("EQ2k"),b=s.a.createElement,y="general",g="classroom",x=Object(d.c)((function(t){return{notifications:t.notifications}}))((function(t){var a=t.notifications.unreadCounts,e=t.query&&t.query.tab===g?g:y;return b("div",{className:"jsx-".concat(m.a.__hash)+" "+i.a.dynamic([["3352086197",[h.a.errorRed]]])},b(p.a,{href:{pathname:t.pathname},as:{pathname:t.pathname}},b("a",{style:{textDecoration:e===y?"underline":void 0},className:"jsx-".concat(m.a.__hash)+" "+i.a.dynamic([["3352086197",[h.a.errorRed]]])},"general",a.board>0?b("span",{className:"jsx-".concat(m.a.__hash)+" "+i.a.dynamic([["3352086197",[h.a.errorRed]]])},a.board):null)),b(p.a,{href:{pathname:t.pathname,query:{tab:g}},as:{pathname:t.pathname,query:{tab:g}}},b("a",{style:{textDecoration:e===g?"underline":void 0},className:"jsx-".concat(m.a.__hash)+" "+i.a.dynamic([["3352086197",[h.a.errorRed]]])},"classroom",a.classroom>0?b("span",{className:"jsx-".concat(m.a.__hash)+" "+i.a.dynamic([["3352086197",[h.a.errorRed]]])},a.classroom):null)),b(i.a,{id:m.a.__hash},m.a),b(i.a,{id:"3352086197",dynamic:[h.a.errorRed]},["div.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;margin-left:-20px;margin-right:-20px;}","a.__jsx-style-dynamic-selector{padding:10px 20px;position:relative;}","a.__jsx-style-dynamic-selector>span.__jsx-style-dynamic-selector{position:absolute;color:".concat(h.a.errorRed,";top:0;right:10px;font-size:12px;}")]))})),_=e("wL7/"),v=e("3web"),j=e("Rjp4"),N=e("CjqK"),k=e("RGhV"),w=e("Bphq"),O=e("tZOq"),R=s.a.createElement,q=Object(k.b)("classroomNotifications"),E=function(){return R(O.i,{fetchPolicy:"network-only",notifyOnNetworkStatusChange:!0},(function(t){var a=t.data,e=t.loading,n=t.fetchMore;return!e||a&&a.classroomNotifications?a&&a.classroomNotifications&&a.classroomNotifications.items.length>0?R("div",{style:{marginTop:20}},a.classroomNotifications.items.map((function(t){return R(N.a,{key:t.id,notification:t})})),R(w.a,{context:"classroom"}),a&&a.classroomNotifications&&a.classroomNotifications.pageInfo.nextCursor?R("button",{onClick:function(){e||n({variables:{after:a&&a.classroomNotifications?a.classroomNotifications.pageInfo.nextCursor:null},updateQuery:q})},disabled:e,className:"jsx-".concat(m.a.__hash)+" "+i.a.dynamic([["75527307",[h.a.skyBlue]]])},e?"loading...":"load more",R(i.a,{id:m.a.__hash},m.a),R(i.a,{id:"75527307",dynamic:[h.a.skyBlue]},["button.__jsx-style-dynamic-selector{background-color:transparent;border:0 none;padding:10px 0;color:".concat(h.a.skyBlue,";cursor:pointer;}"),"button.__jsx-style-dynamic-selector:hover{-webkit-text-decoration:underline;text-decoration:underline;}"])):null):R(j.a,null):R(v.a,null)}))},M=e("9/CT"),C=e("nOHt"),S=s.a.createElement,I=function(){var t,a=Object(C.useRouter)(),e=Object(O.yb)().data,n=a.query&&a.query.tab===g?g:y;if(e&&e.currentUser){var o=e.currentUser,r=o.isTeacher,c=o.isStudent,s=o.isSelfLearner;(r||c||s)&&(t=S(x,{pathname:a.pathname,query:a.query}))}return S(l.a,{title:"Notifications",location:a.pathname},S(M.a,null,S("div",{className:"jsx-3534031716 notifications-page"},S("div",{className:"jsx-3534031716 notifications-page-content"},t,n===y?S(_.a,{loadMore:!0,markAsSeen:!0}):S(E,null)),S(i.a,{id:"3534031716"},[".notifications-page.jsx-3534031716{min-height:calc(100vh - 60px);}",".notifications-page-content.jsx-3534031716{padding:40px 20px;margin-left:auto;margin-right:auto;max-width:600px;}"]))))};I.getInitialProps=function(t){var a,e;return o.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return a=t.req,e=t.store,n.next=3,o.a.awrap(Object(u.a)(a,e));case 3:return n.abrupt("return",{});case 4:case"end":return n.stop()}}))};a.default=I}},[[51,2,1,8,0,3,4,6,7,5,9]]]);
//# sourceMappingURL=notifications.js.map